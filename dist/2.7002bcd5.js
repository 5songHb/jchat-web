webpackJsonp([2],{1132:function(n,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(function(n){for(var o in n)e.hasOwnProperty(o)||(e[o]=n[o])})(o(1407))},1143:function(n,e,o){n.exports=o.p+"assets/images/copyright.10a5f683.png"},1147:function(n,e,o){n.exports=o.p+"assets/images/password-icon.0b10db99.png"},1151:function(n,e,o){n.exports=o.p+"assets/images/logo.4f1fde94.png"},1154:function(n,e,o){n.exports=o.p+"assets/images/username-icon.95cd960c.png"},1189:function(n,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(41),t=o(1),r=o(64),s=o(304),a=o(116),l=o(151),p=o(84),g=(function(){function n(n,e,o){this.store$=n,this.storageService=e,this.router=o,this.username="",this.password="",this.rememberPassword="",this.loginRemember=!1,this.loginTip="",this.isButtonAvailable=!1}return n.prototype.ngOnInit=function(){var n=this;this.storageService.get("register-username")&&(this.username=this.storageService.get("register-username"),this.storageService.remove("register-username")),""!==this.username&&""!==this.password&&this.isButtonAvailableAction(),this.JIMInit(),this.loginStream=this.store$.select((function(e){var o=e.loginReducer;switch(o.actionType){case s.loginAction.loginSuccess:o.loginRemember&&(n.storageService.set(l.md5("jchat-remember-username"),o.userInfo.username,!0),n.storageService.set(l.md5("jchat-remember-password"),o.userInfo.password,!0)),n.loginRemember||n.username!==n.storageService.get(l.md5("jchat-remember-username"),!0)||(n.storageService.remove(l.md5("jchat-remember-username")),n.storageService.remove(l.md5("jchat-remember-password"))),window.sessionStorage.setItem(l.md5("login-persistence-username"),o.userInfo.username),window.sessionStorage.setItem(l.md5("login-persistence-password"),o.userInfo.password),a.global.password=o.userInfo.password,n.router.navigate(["main"]);break;case s.loginAction.isButtonAvailableAction:n.isButtonAvailable=o.isButtonAvailable;break;case s.loginAction.loginFailed:o.isLoginSuccess||(n.loginTip=o.loginTip)}return e})).subscribe((function(n){}))},n.prototype.JIMInit=function(){var n=this;a.global.JIM.init({appkey:a.authPayload.appKey,random_str:a.authPayload.randomStr,signature:a.authPayload.signature,timestamp:a.authPayload.timestamp,flag:a.authPayload.flag}).onSuccess((function(e){var o=n.storageService.get(l.md5("jchat-remember-username"),!0),i=n.storageService.get(l.md5("jchat-remember-password"),!0);o&&i&&""!==this.username&&(n.username=o,n.rememberPassword=i,n.password=i.substring(0,6),n.loginRemember=!0),console.log("success:"+JSON.stringify(e))})).onFail((function(n){console.log("error:"+JSON.stringify(n))})).onTimeout((function(n){console.log(n)}))},n.prototype.login=function(n){var e;this.rememberPassword?(e=this.rememberPassword,this.isButtonAvailable=!0):e=l.md5(this.password),this.store$.dispatch({type:s.loginAction.login,payload:{username:this.username,password:e,md5:!0,isButtonAvailable:this.isButtonAvailable,event:n,loginRemember:this.loginRemember}})},n.prototype.isButtonAvailableAction=function(){this.rememberPassword="",this.store$.dispatch({type:s.loginAction.isButtonAvailableAction,payload:{password:this.password,username:this.username}})},n.prototype.ngOnDestroy=function(){this.loginStream.unsubscribe()},n.prototype.ngAfterViewInit=function(){""!==this.username&&""===this.password?document.getElementById("loginPassword").focus():document.getElementById("loginUsername").focus()},n})();g=i.__decorate([t.Component({selector:"app-login",styles:[o(1332)],template:o(1288)}),i.__metadata("design:paramtypes",[r.Store,a.StorageService,p.Router])],g),e.LoginComponent=g},1258:function(n,e,o){e=n.exports=o(543)(),e.push([n.i,".login-container {\n  width: 400px;\n  min-height: 400px;\n  background-color: #fff;\n  border-radius: 4px;\n  margin: 0 auto;\n  overflow: hidden;\n  padding: 0 40px;\n  box-sizing: border-box;\n  text-align: center;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  padding-bottom: 32px; }\n  .login-container h1 {\n    height: 143px;\n    line-height: 143px;\n    margin: 0; }\n  .login-container .login-info input {\n    height: 42px;\n    width: 320px;\n    border: 1px solid #D9DEE4;\n    padding-left: 45px;\n    box-sizing: border-box;\n    background-size: 18px;\n    border-radius: 2px;\n    font-size: 12px; }\n  .login-container .login-info .login-username {\n    margin-bottom: 22px;\n    position: relative; }\n    .login-container .login-info .login-username input {\n      background: url("+o(1154)+") 13px center no-repeat; }\n    .login-container .login-info .login-username .login-tip {\n      position: absolute;\n      top: 46px;\n      left: 0;\n      color: #EB424C;\n      font-size: 12px;\n      width: 320px;\n      line-height: 17px;\n      text-align: left; }\n    .login-container .login-info .login-username.login-tip-wrap {\n      margin-bottom: 32px; }\n  .login-container .login-info .login-pwd {\n    margin-bottom: 10px; }\n    .login-container .login-info .login-pwd input {\n      background: url("+o(1147)+") 13px center no-repeat; }\n  .login-container .login-info .login-remember {\n    line-height: 18px;\n    font-size: 12px;\n    color: #808080;\n    margin-bottom: 22px; }\n    .login-container .login-info .login-remember input {\n      width: 12px;\n      height: 12px;\n      border-radius: 2px;\n      position: relative;\n      background: #fff;\n      margin-top: 2px; }\n      .login-container .login-info .login-remember input:before {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        display: block;\n        background: #fff;\n        border: 1px solid #D9DEE4;\n        border-radius: 2px; }\n    .login-container .login-info .login-remember input:checked:before {\n      content: '';\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      display: block;\n      background: #2DD0CF;\n      border: 1px solid #2DD0CF;\n      border-radius: 2px; }\n    .login-container .login-info .login-remember input:checked:after {\n      content: '';\n      position: absolute;\n      width: 8px;\n      height: 4px;\n      border-left: 1px solid #fff;\n      border-bottom: 1px solid #fff;\n      transform: rotateZ(-45deg);\n      display: block;\n      top: 3px;\n      left: 3px; }\n    .login-container .login-info .login-remember label {\n      padding-left: 11px; }\n  .login-container .login-info .login-btn button {\n    background: #2DD0CF;\n    border-radius: 2px;\n    width: 320px;\n    height: 42px;\n    font-size: 16px;\n    color: #FFFFFF; }\n    .login-container .login-info .login-btn button.disabled {\n      color: #d9f6f6 !important;\n      background-color: #81e3e2 !important;\n      border-color: #81e3e2 !important;\n      cursor: default; }\n  .login-container .login-info .login-to-register {\n    margin-top: 10px;\n    font-size: 12px;\n    color: #808080;\n    letter-spacing: 0; }\n    .login-container .login-info .login-to-register a {\n      font-size: 12px;\n      color: #2DD0CF;\n      letter-spacing: 0;\n      line-height: 17px;\n      cursor: pointer; }\n\n.copyright-container {\n  height: 55px;\n  position: absolute;\n  bottom: 76px;\n  text-align: center;\n  width: 100%;\n  font-size: 14px;\n  color: #FFFFFF;\n  opacity: 0.7; }\n  .copyright-container img {\n    margin-bottom: 8px; }\n\n@media (max-height: 650px) {\n  .copyright-container {\n    display: none; } }\n\n@media (min-height: 650px) and (max-height: 720px) {\n  .copyright-container {\n    bottom: 20px; } }\n\n@media (min-height: 720px) and (max-height: 780px) {\n  .copyright-container {\n    bottom: 45px; } }\n",""])},1288:function(n,e,o){n.exports='<div class="login-wrap">\n    <div class="login-container">\n        <h1>\n            <img src="'+o(1151)+'" alt="">\n        </h1>\n        <div class="login-info">\n            <div class="login-username" [ngClass]="{\'login-tip-wrap\': loginTip}">\n                <input spellcheck="false" id="loginUsername" class="input-focus" [ngClass]="{\'input-error\': loginTip}" [(ngModel)]="username" type="text" placeholder="请输入用户名" (keyup)="isButtonAvailableAction()" (change)="isButtonAvailableAction()">\n                <p class="login-tip" *ngIf="loginTip">{{loginTip}}</p>                \n            </div>\n            <div class="login-pwd">\n                <input spellcheck="false" id="loginPassword" class="input-focus" [(ngModel)]="password" type="password" placeholder="请输入密码" (keyup.enter)="login()" (keyup)="isButtonAvailableAction()" (change)="isButtonAvailableAction()">\n            </div>\n            <p class="login-remember clearfix">\n                <input spellcheck="false" [(ngModel)]="loginRemember" id="remember" class="float-left" type="checkbox">\n                <label for="remember" class="float-left">记住用户名和密码</label>\n                <b></b>\n            </p>\n            <p class="login-btn">\n                <button [ngClass]="{\'disabled\': !isButtonAvailable && !rememberPassword}" class="btn-active" type="button" (click)="login()">登录</button>\n            </p>\n            <p class="login-to-register">\n                没有账号？\n                <a routerLink="/register">立即注册</a>\n            </p>\n        </div>\n    </div>\n</div>\n<div class="copyright-container">\n    <img src="'+o(1143)+'" alt="">\n    <p>\n        深圳市和讯华谷信息技术有限公司 版权所有 @2011-2017  粤ICP备12056275号-13\n    </p>\n</div>\n'},1332:function(n,e,o){var i=o(1258);n.exports="string"==typeof i?i:i.toString()},1407:function(n,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(41),t=o(83),r=o(211),s=o(1),a=o(84),l=o(1408),p=o(1189),g=(function(){function n(){}return n})();g.routes=l.LOGIN_ROUTER,g=i.__decorate([s.NgModule({declarations:[p.LoginComponent],imports:[t.CommonModule,r.FormsModule,a.RouterModule.forChild(l.LOGIN_ROUTER)],providers:[]})],g),e.LoginModule=g},1408:function(n,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(1189);e.LOGIN_ROUTER=[{path:"",children:[{path:"",component:i.LoginComponent}]}]}});